# js基础 day_03



# 循环结构

- 作用：**只要有重复的思想/有规律变化在里面，就要用到循环；**

## while 循环

- 语法：循环：重复；

```javascript
// 条件表达式结果返回布尔值；true;
while (条件表达式) {
  // 循环体  就是重复执行的代码
}
```

- 特点：直接写true false直接就玩死：
  - 设置为true，容易卡死；
  - 设置false，直接就不执行；
- 有规律的变化过程：

```js
// 作用：有重复的思想在里面，有规律的变化，循环：重复；

  // 语法：重复；
  // 执行过程：
  //      第1次：先执行  条件表达式，结果是true; 执行{ 里面的代码 }
  //      第2次：执行  条件表达式，结果是true; 执行{ 里面的代码 }
  //      第3次：执行  条件表达式，结果是true; 执行{ 里面的代码 }
  //      第4次：执行  条件表达式，结果是true; 执行{ 里面的代码 }
  //      第5次：执行  条件表达式，结果是true; 执行{ 里面的代码 }
  //      ...


  // while (条件表达式) {
  //   // 循环体  就是重复执行的代码
  // }


  // condition：语法这里要求返回Boolean值；（如果返回不是Boolean值，语法这里把结果隐式转化为Boolean）
  // 死循环：
  // while (1 == 1) {
  //   alert("这是个病毒");
  // }


  // 执行过程：
  //      第1次：先执行  1 == 1，结果是true; 执行{ alert("这是个病毒"); }
  //      第2次：先执行  1 == 1，结果是true; 执行{ alert("这是个病毒"); }
  //      第3次：先执行  1 == 1，结果是true; 执行{ alert("这是个病毒"); }
  //      第4次：先执行  1 == 1，结果是true; 执行{ alert("这是个病毒"); }
  //      ...


  //      第1次：先执行  1 == 2，结果是false; 不执行{里面代码 }

  // ---------------------------------------------------------------

  // 意义：执行个几次，结束循环；
  // while (1 == 1) {
  //   alert("这是个病毒");
  // }

  // 应该让 条件表达式 过了一会，就该返回false;
  var num = 1;
  while (num <= 3) {
    console.log(num);

    num++; // 在循环这里。num++; 自增；
  }

  // 执行过程：
  //      第1次：先执行 条件表达式num <= 3，结果是true; 执行{ 打印;  num++;}---->num:2
  //      第2次：先执行 条件表达式num <= 3, 结果是true; 执行{ 打印;  num++; }--->num:3
  //      第3次：先执行 条件表达式num <= 3, 结果是true; 执行{ 打印;  num++; }--->num:4
  //      第4次：先执行 条件表达式num <= 3，结果是false; 不执行{ } 结束循环；
  //      ...

  // 循环了4次，第4次条件表达式返回为false,没有进入循环体；
```

- 案例：循环求和：一个一个的加

  ```js
// 定义一个变量，从1开始
  var num = 1;
  
  // 定义一个总和，一开始是0，没有加任何数之前，都是0；
  var sum = 0;
  
  
  // 使用循环让num不断的自增
  while (num <= 100){
    sum = sum + num;
    num++;
  }
  ```
  
  - 执行过程：
  - 1.**先执行条件表达式，得到一个布尔类型的结果**
    - 2.如果表达式的结果为false，循环结束，不执行循环后面的代码
    - 3.如果表达式的结果为true，执行循环体；
    - 4.重复1~3的过程，直到表达式结果为false，结束循环；
  - 找偶数：
    - 1-10的数据一个个的过；
    - 每个数据要经过 偶数条件 的筛查；
  
  ```js
var num = 1;
  while (num <= 10){
      
    // 把每个数字，进行判断
    if(num % 2 === 0){
      console.log(num + '是偶数');
    }
      
    num++;
  }
  ```



## for循环 !!!

### 语法

```javascript
for(初始化表达式; 条件表达式; 自增表达式){
  // 循环体
}
```

- 执行过程：

1. **执行初始化表达式(只执行一次)**
2. **执行条件表达式**
3. 如果条件表达式的结果为false, 结束循环；
4. 如果条件表达式的结果为true，执行循环体
5. **执行自增表达式**
6. 重复2~5的步骤，直到条件表达式的结果为false，结束循环

```javascript
// 例如： 求1-3的和
var sum = 0;
for(var i = 1; i < 3; i++){
  sum = sum + i;
}
```

### 案例：求1-10之间 所有偶数 的 和

- 分析：
  - 1-10每个数都要过一下
  - 找所有满足条件的偶数
  - 加起来；

```js
// 定义一个总和
var sum = 0;
// 先求出1-10之间的偶数
for(var i =1; i <= 10; i++){
  // console.log(i);
  // 判断i是否是2的倍数
  if(i % 2 === 0){
    console.log(i + '是偶数');
    // 把偶数相加
    // sum = sum + i;
    sum += i;
  }
}
```

### 案例：打印正方形

- 分析：
  - 行和列的点阵；
  - 每行，是个循环；
  - 每行的每个点，是个循环；

```js
for (var i = 1; i <= 6; i++) {
    for (var j = 1; j <= 8; j++) {
        document.write('○');
    }
    document.write('<br>');
}
```

- 练习：打印三角形

- 作业：打印 99乘法表

  

  

  







## do-while循环(补充)

- 语法：do 执行 代码；

```js
do {
  // 循环体
}while(条件表达式)
    

```

- 执行过程：
  - **先执行循环体**
  - 执行条件表达式
  - 如果条件表达式结果为false，结束循环
  - 如果条件表达式结果为true，执行循环体
  - 重复2~4的步骤，直到条件表达式结果为false，结束循环
- 特点：
  - 至少会执行一次；
  - 写true也会卡死；



## 小结

- while、do-while 循环不易看出循环的次数，一般用于**未知次数的循环**
- for循环明显看出循环的次数，一般用于已知次数的循环；**使用最多是for；**
- while、for循环可能一次循环都不会执行
- do-while 循环至少执行一次；



## break和continue

- 只是针对 循环语法；循环退出：

```javascript
// break ： 只要出现break，当前这个循环就直接终止；

/* 例子：电梯一共有6层，现在我们要上电梯，我们的教室在3楼，电梯只要到3楼就可以了。*/
for(var i = 1; i <= 6 ; i++ ){
    console.log('现在是'+i+'楼');
    if(i == 3){
        console.log('3楼到了，电梯停了，请下电梯。');
        // 程序 执行到 3，执行了四次就结束了；
        break;
    }
}
// 这里案例用的是for循环演示，while 和do-while一样；
```

```javascript
// continue
// 电梯一共有6层，除了3楼没人下去，其他楼层都有人下去(3楼不停，其他楼层都要停)
for(var i = 1; i <= 6; i++){
    if(i == 3){
        // 执行到 3 时。当前次的程序后面的代码的全部跳过；继续执行后面的次数；
        continiue;
    }
    console.log(i+'楼到了，电梯停了，请下电梯。');      
}
```

- 总结：这个地方只是用for做终止
  - break用于结束整个循环
  - continue用于结束整个循环中的一次，**结束当前这次循环**；
  - break和continue**后面的代码都不会执行**，执行前面的代码；







## 调试

- 对于初学者来说，感受代码的执行过程是非常重要的，浏览器中提供了一个可以观察代码执行过程的工具

  - 第一步：F12打开开发者工具，点击Sources选项
  - 第二步：在左边找到代码所在文件，双击打开
  - 第三步：在中间部分找到自己写的代码，在想要暂停的**数字**地方打上断点
  - 第四步：触发代码的执行，现在我们的代码是在浏览器打开的时候执行，所以我们只要刷新页面即可。当代码执行到断点所在行，会暂停
  - 第五步：通过点击右边的控制执行按钮，可以让代码按照你的意愿

- ![1554445172614](assets/1554445172614.png)

  









# 数组

* 为什么？一个人的成绩可以用一个变量存储，500个人的成绩，我们就不用500个变量存储了，我们可以使用数组存储。**集中的管理大量的数据；**

## 介绍

* 数组是一个有**顺序**、**有长度**的数据集合；
* 数组：类型Object；复杂数据类型（前面：简单数据类型）
* 特点：
  * 把数据放在一起；
  * 有先后位置上的顺序；
  * 有数据的长度；

## 声明

```javascript
// 5个人的成绩为： 91，88，72，45，63
// 先声明一个数组，字面量的形式
var arr = [];  


// 输出 []  这是一个没有数据在里面的数组，称为空数组
console.log(arr,typeof arr); 
```

## 存值

* 为什么有索引？因为有了索引，知道了位置，位置上数据就是啥，方便的查数据，存数据；

* 数组中的数据使用**索引**管理。
* 索引 下标：**位置**：方便放入存值和寻找；
* **索引 规则：用数字表示，从0开始**

```javascript
//把成绩存储到数组中
arr[0] = 91;
arr[1] = 88;
arr[2] = 72;
arr[3] = 45;
arr[4] = 63;
console.log(arr); // 输出 [91,88,72,45,63] 就是一个数据集合
```

* 把 `数组[索引]`格式当成一个变量使用就行，

```js
// 初始化赋值完成后，也可以再次改变值，把前面的值覆盖掉；
arr[0] = 100;
```

* 如果一开始就知道数组了，可以直接使用一个简单的语法存储数据

```javascript
var arr = [91,88,72,45,63];
console.log(arr); // 输出的结果是一样的
```

* 上面每个位置上存的都是数字类型，可以为其他类型；





## 取值

* 把数据取出来，得知道你要取哪个位置上的数据。
* 数据取值同样使用**索引**取。

```javascript
// 拿到索引为0，顺序上第一个位置上的数据；
// 把 数组[索引] 格式当成一个变量使用就行；
console.log(arr[0]);

// 代表第一个元素
var i = 0;
arr[i];


// 数组求和：班里的成绩总和
var sum = arr[0] + arr[1] + arr[2] + arr[3] + arr[4];
console.log(sum); // 输出370
```







## 遍历

* 求成绩总和：一个一个地把数组里面的数组取出来了，从索引 0 到最后一个索引，
* 索引从0开始到结束的过程，**有重复的思想，需要用到循环；**

```javascript
// 最初的写法
var sum = arr[0] + arr[1] + arr[2] + arr[3] + arr[4];


// 循环 这个从0~最后一个索引，有重复的思想在里面，使用循环。
var sum = 0;
for(var i = 0; i <= 4; i++){
  sum += arr[i];
}
console.log(sum); // 输出 370，和我们一个一个相加是一样的
```

* 使用**循环来遍历**数组，当数组中的数据比较多的时候，会比较方便。**一般是使用for循环；**



## 数组长度

### 语法

* 存取数据：涉及到就是数组的**顺序**问题，通过索引去存取；

* 数组长度：数组中一共存放了多少个数据；

```javascript
console.log(arr.length); // 数组.length 就是数组的长度
```

* 如果数组的长度是5，最后一个元素的**索引**就是4；
* **我们发现最大索引总是比长度少 1 ，所以遍历还可以这么写**

```javascript
for(var i = 0; i <= arr.length - 1; i++){
  console.log(arr[i]);
}

// 简化一下 
for(var i = 0; i < arr.length; i++){
  console.log(arr[i]);
}
```

### 案例：求数组中所有数字的总和的平均值

* 分析：
  * 总和：循环遍历，加在一个变量上得到；
  * 均值：总和 / 个数；（arr.length）

```js
// 还可以更简单
var sum = 0;
for(var i =0; i < arr.length; i++){
  sum += arr[i];
}
console.log(sum);

// 求平均分
// 平均分= 总分 / 数组的长度
var avg = sum / arr.length;
```

### 案例：求数组中的最大值

* 分析：生活中，一堆人最高的（人很多，多到你一下看不出来）；
  * 最大值：最起码得两个数比较下，得到最大值；
  * 假设：其中随便一个是最大值MAX，每个元素和max比较，
    * 若有比MAX大的，那该元素代替MAX；
    * 若都没有MAX大，恭喜，你一开始就猜对了；

```js
var max = arr[0];
for(var i =0; i < arr.length; i++){
  if(max < arr[i]){
    max = arr[i];
  }
}
```

### 案例：冒泡排序

```js
// 
var arr = [97,68,72,29,51,45];

// 规律：
//    趟：需要执行 长度-1
//    每趟：需要执行 长度-趟；

for (var i = 1; i <= arr.length - 1; i++) {

    // 每一趟：i
    //   次数：arr.length-i
    for (var j = 1; j <= arr.length - 1; j++) {

        // 每次：交互
        //   前：arr[j-1]
        //   后：arr[j]
        if (arr[j - 1] > arr[j]) {
            var temp;
            temp = arr[j - 1];
            arr[j - 1] = arr[j];
            arr[j] = temp;
        }

    }
}
```





### 清空数组

```js
arr.length = 0;
```







## 数组的构造函数-了解

* 数组在JS中还可以使用另一种方式创建，这个方式我们称为 ： 构造函数
* 构造函数：能构造一个你需要的东西（对象）；

```javascript
// 使用 构造函数 创建数组
var arr = new Array();
// 存储数据
arr[0] = 10;
arr[1] = 20;
console.log(arr);

var arr = new Array(10,20);
console.log(arr);
```

* 注意：一个数据，不要使用这个方式存储数据；它会认为你想要设置数组的长度，而不是要把数据存储在数组中。

```javascript
var arr = new Array(10);
console.log(arr); // 输出 [empty × 10]
```







